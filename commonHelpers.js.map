{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const fetchFromPixabay = ((searchStr) => {\n    const API_KEY = \"43468244-0e08b5bd3673b3a8f95726aef\";\n    const url = \"https://pixabay.com/api/\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchStr,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 9,\n    });\n\n    return fetch(`${url}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n});\n\nexport default fetchFromPixabay;","const makeGallery = ((arr) => {\n    return arr\n        .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                />\n            </a>\n            <ul class=\"gallery-txt-list\">\n                <li class=\"gallery-txt-item\">\n                    <p class=\"txt-title\">Likes</p>\n                    <p class=\"txt-value\">${likes}</p>\n                </li>\n                <li class=\"gallery-txt-item\">\n                    <p class=\"txt-title\">Views</p>\n                    <p class=\"txt-value\">${views}</p>\n                </li>\n                <li class=\"gallery-txt-item\">\n                    <p class=\"txt-title\">Comments</p>\n                    <p class=\"txt-value\">${comments}</p>\n                </li>\n                <li class=\"gallery-txt-item\">\n                    <p class=\"txt-title\">Downloads</p>\n                    <p class=\"txt-value\">${downloads}</p>\n                </li>\n            </ul>\n        </li>`\n    )\n    .join('');\n});\nexport default makeGallery;","import makeFetch from \"./js/pixabay-api\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport makeGallery from \"./js/render-functions\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".search-form\");\nconst galleryContainer = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox(\".gallery a\", { \n    overlayOpacity: 0.8,\n    captionsData: \"alt\",\n    captionDelay: 250\n});\nconst loader = document.querySelector(\".loader\");\nloader.style.display = \"none\";\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    const searchString = event.target.elements.search.value.trim();\n    if (searchString === \"\") {\n        return;\n    }\n    loader.style.display = \"block\";\n    galleryContainer.innerHTML = \"\";\n    loader.style\n    makeFetch(searchString)\n        .then(data => {\n            if (data.total == 0) {\n                iziToast.show(createMsg());\n            }\n            galleryContainer.insertAdjacentHTML('beforeend', makeGallery(data.hits));\n            lightbox.refresh();\n            event.target.reset();\n        })\n        .catch(error => {\n            iziToast.show(createMsg(error.message));\n        })\n        .finally(() => {\n            loader.style.display = \"none\";\n        });\n})\n\nfunction createMsg(msg = \"\") {\n    return {\n        message: msg == \"\" ? \"Sorry, there are no images matching your search query. Please try again!\" : msg,\n        messageColor: '#fff',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n    }\n}\n"],"names":["fetchFromPixabay","searchStr","API_KEY","url","params","response","makeGallery","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","galleryContainer","lightbox","SimpleLightbox","loader","event","searchString","makeFetch","data","iziToast","createMsg","error","msg"],"mappings":"6vBAAA,MAAMA,EAAqBC,GAAc,CACrC,MAAMC,EAAU,qCACVC,EAAM,2BAENC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CAClB,CAAK,EAED,OAAO,MAAM,GAAGE,CAAG,IAAIC,CAAM,EAAE,EAC1B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECpBMC,EAAgBC,GACXA,EACF,IACH,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,4CAEgCL,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMgBC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA,cAI/C,EACA,KAAK,EAAE,ECjCNC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,eAAgB,GAChB,aAAc,MACd,aAAc,GAClB,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvBJ,EAAK,iBAAiB,SAAUK,GAAS,CACrCA,EAAM,eAAc,EACpB,MAAMC,EAAeD,EAAM,OAAO,SAAS,OAAO,MAAM,OACpDC,IAAiB,KAGrBF,EAAO,MAAM,QAAU,QACvBH,EAAiB,UAAY,GAC7BG,EAAO,MACPG,EAAUD,CAAY,EACjB,KAAKE,GAAQ,CACNA,EAAK,OAAS,GACdC,EAAS,KAAKC,EAAS,CAAE,EAE7BT,EAAiB,mBAAmB,YAAaV,EAAYiB,EAAK,IAAI,CAAC,EACvEN,EAAS,QAAO,EAChBG,EAAM,OAAO,OACzB,CAAS,EACA,MAAMM,GAAS,CACZF,EAAS,KAAKC,EAAUC,EAAM,OAAO,CAAC,CAClD,CAAS,EACA,QAAQ,IAAM,CACXP,EAAO,MAAM,QAAU,MACnC,CAAS,EACT,CAAC,EAED,SAASM,EAAUE,EAAM,GAAI,CACzB,MAAO,CACH,QAASA,GAAO,GAAK,2EAA6EA,EAClG,aAAc,OACd,gBAAiB,UACjB,SAAU,UACb,CACL"}